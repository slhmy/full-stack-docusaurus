---
slug: mindmap-in-mdx
title: MDXä¸­çš„æ€ç»´å¯¼å›¾
authors: [slhmy]
tags: [mdx, mindmap]
---

ç»è¿‡äº†è¿™æ¬¡çš„å°è¯•ï¼Œæˆ‘è§‰å¾—MDXéå¸¸é…·ï¼Œå®ƒè¿‘ä¹æ— æ‰€ä¸èƒ½çš„ã€‚
ä½ å¯ä»¥åœ¨MDXä¸­ä½¿ç”¨ä»»ä½•ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œè®©æˆ‘æœ‰äº†æ›´å¤šä½¿ç”¨å®ƒçš„æƒ³æ³•~

å…ˆæ¥çœ‹çœ‹æ•ˆæœï¼š

import MarkmapRender from "/components/MarkmapRender.tsx";

<MarkmapRender
  value={`
  # markmap
  - beautiful
    - attractive
    - simple
  - useful
    - for static sites
    - for markdown
  - easy
  - interactive
  - [click me to try](https://markmap.js.org/repl)
  `}
  style={{ width: "100%" }}
/>

:::tip
ä½ å¯ä»¥åœ¨
[ğŸ‘‰è¿™é‡Œ](https://github.com/slhmy/full-stack-docusaurus/blob/main/i18n/zh-CN/docusaurus-plugin-content-blog/2023-10-29-mindmap-in-mdx.mdx)
æŸ¥çœ‹åˆ°æœ¬ç¯‡åšå®¢çš„æºç ï¼Œä»¥ä¾¿äºä½ æ›´å¥½çš„ç†è§£å®ƒæ˜¯å¦‚ä½•è¿ä½œçš„ã€‚
:::

ä¸ºäº†å®ç°åœ¨MDXä¸­ä½¿ç”¨æ€ç»´å¯¼å›¾ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå«åš[Markmap](https://github.com/markmap/markmap)çš„åº“ã€‚
å¹¶ä¸”å°†å…¶å°è£…æˆä¸€ä¸ªReactç»„ä»¶ï¼Œä»¥ä¾¿äºåœ¨MDXä¸­ä½¿ç”¨ã€‚

```tsx
import React, { useEffect } from "react";
import { Transformer } from "markmap-lib";
const { Markmap } = require("markmap-view");

const transformer = new Transformer();

const MarkmapRender: React.FC<{
  value?: string;
  style?: React.CSSProperties;
}> = (props) => {
  const svg = React.useRef<SVGSVGElement>();

  useEffect(() => {
    const mm = Markmap.create(svg.current);
    const { root } = transformer.transform(props.value || "");
    mm.setData(root);
    mm.fit();
  }, [props.value]);

  return (
    <React.Fragment>
      <svg className="flex-1" ref={svg} style={props.style} />
    </React.Fragment>
  );
};

export default MarkmapRender;
```

è¿™æ˜¯ä¸€ä¸ªç›¸å¯¹åˆçº§ä½†æœ‰è¾ƒä¸ºç°ä»£çš„ç¤ºä¾‹ï¼Œè¾ƒä¸ºå®Œæ•´çš„Reactä½¿ç”¨æ¡ˆä¾‹å¯ä»¥å‚è€ƒ
[ğŸ‘‰è¿™é‡Œ](https://stackblitz.com/edit/markmap?file=markmap-class.tsx,markmap-hooks.tsx)ã€‚
> åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œä¼˜ç‚¹æ˜¯æˆ‘é¿å…ä½¿ç”¨äº†è€å¼çš„Reactç»„ä»¶å£°æ˜æ–¹å¼

ç”±äºæ–‡æ¡£çš„ä¸å®Œå–„å’Œç»„ä»¶æ¨¡å—å¯¼å‡ºçš„ä¸€äº›é—®é¢˜ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›ç¼–è¾‘å™¨æŠ¥é”™ï¼Œä½†å®ƒä»¬å¹¶ä¸æ˜¯è‡´å‘½çš„ï¼Œä½ å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚
